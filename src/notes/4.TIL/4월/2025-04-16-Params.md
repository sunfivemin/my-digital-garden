---
tags:
  - TIL
  - express
  - RESTAPI
created: 2025-04-16
---

# ğŸ“˜ 2025-04-16 TIL

## ğŸ“Œ ì˜¤ëŠ˜ ë°°ìš´ í•µì‹¬ ìš”ì•½

- Expressì—ì„œ `req.params`, `req.query`ì˜ ì°¨ì´ì ê³¼ í™œìš©
- parseIntë¡œ ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´, ë°°ì—´ ë¹„êµ¬ì¡°í™” í• ë‹¹ì˜ êµ¬ì¡°ì™€ ì£¼ì˜ì 

## ğŸ§  ìƒì„¸ í•™ìŠµ ë‚´ìš©

## ğŸ“ ì£¼ì œ 1:  Express ë¼ìš°íŠ¸ì™€ URL íŒŒë¼ë¯¸í„°

#### âœ… req.paramsë€?

- **Express ë¼ìš°íŠ¸ ê²½ë¡œì—ì„œ :ì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ êµ¬ê°„ì€ ë³€ìˆ˜ì²˜ëŸ¼ ë™ì‘í•œë‹¤.**
- ê·¸ ë³€ìˆ˜ ê°’ì€ ìš”ì²­(req)ì˜  `req.params`ë¡œ ê°ì²´ í˜•íƒœë¡œ ì „ë‹¬ëœë‹¤.

```js
app.get("/products/:id", (req, res) => {
  console.log(req.params);       // ğŸ‘‰ { id: '123' }
  console.log(req.params.id);    // ğŸ‘‰ '123'
});
```

> ì˜ˆë¥¼ ë“¤ì–´ /products/123ì´ë¼ëŠ” URLë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ idëŠ” '123'ì´ë¼ëŠ” ê°’ìœ¼ë¡œ ì „ë‹¬ëœë‹¤.

### ğŸ’¡ parseInt()ë€?
- URLë¡œ ì „ë‹¬ë°›ì€ ê°’ì€ ê¸°ë³¸ì ìœ¼ë¡œ **ë¬¸ìì—´(string)**ì´ë‹¤.
- ìˆ«ì ì—°ì‚°ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” **ì •ìˆ˜ë¡œ ë³€í™˜**ì´ í•„ìš”í•˜ë‹¤.
- ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ parseInt() ë˜ëŠ” Number()ì´ë‹¤.

```js
let number = parseInt(req.params.id) - 10;
// ìš”ì²­: GET /products/25
// â†’ req.params.id === '25'
// â†’ parseInt(req.params.id) === 25
// â†’ number === 15
```

---

## ğŸ“ ì£¼ì œ 2: Express ì¿¼ë¦¬ìŠ¤íŠ¸ë§ (req.query)

APIì—ì„œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ë•ŒëŠ” ë‹¨ìˆœí•œ ë¬¸ìì—´ë³´ë‹¤ ë” **êµ¬ì¡°í™”ëœ ë°ì´í„° í˜•ì‹**ì´ í•„ìš”í•˜ë‹¤. Â 
ê·¸ ëŒ€í‘œì ì¸ í˜•ì‹ì´ ë°”ë¡œ **JSON (JavaScript Object Notation)** ì´ë‹¤.

### âœ… req.queryë€?

- req.queryëŠ” **URLì˜ ? ì´í›„ì— ì˜¤ëŠ” ì¿¼ë¦¬ìŠ¤íŠ¸ë§ íŒŒë¼ë¯¸í„°ë¥¼ ê°ì²´ í˜•íƒœë¡œ** ë°›ì•„ì¤€ë‹¤.
- key=value í˜•ì‹ìœ¼ë¡œ ì „ë‹¬ëœ ê°’ì€ req.query.keyë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.


#### âœ… ì‹¤ìŠµ ì˜ˆì‹œ 1: Â req.params ì‚¬ìš©

```js
app.get("/:nickname", function (req, res) {
  const param = req.params;

  res.json({
    channel: param.nickname,
  });
});
```

ğŸ“Œ ì˜ˆì‹œ ìš”ì²­
http://localhost:1234/@programmers

![nickname](https://seonohblog.netlify.app/assets/nickname.png)


#### âœ… ì‹¤ìŠµ ì˜ˆì‹œ 2: req.query ì‚¬ìš©

```js
app.get("/watch", (req, res) => {
  const q = req.query;
  console.log(q.v); // ìœ íŠœë¸Œ ì˜ìƒ ID
  console.log(q.t); // ì‹œì‘ ì‹œê°„

  res.json({
    video: q.v,
    timeline: q.t,
  });
});
```

ğŸ“Œ ì˜ˆì‹œ ìš”ì²­
http://localhost:1234/watch?v=2wV9fupQWrs&t=60

![watch](https://seonohblog.netlify.app/assets/watch.png)


---

## ğŸ“ ì£¼ì œ 3: ìë°”ìŠ¤í¬ë¦½íŠ¸ êµ¬ì¡° ë¶„í•´ í• ë‹¹ (ë¹„êµ¬ì¡°í™”)

### âœ… ê°ì²´ ë¹„êµ¬ì¡°í™” í• ë‹¹

- req.queryì²˜ëŸ¼ **ê°ì²´**ì—ì„œ í•„ìš”í•œ ì†ì„±ë§Œ êº¼ë‚´ ì“¸ ìˆ˜ ìˆë‹¤.
```js
const { v, t } = req.query;
res.json({
  video: v,
  timeline: t,
});
```

> â— vì™€ tëŠ” ì‹¤ì œ req.query ê°ì²´ì— ì¡´ì¬í•˜ëŠ” í‚¤ì™€ ë™ì¼í•´ì•¼ í•œë‹¤. ì´ë¦„ì´ ë‹¤ë¥´ë©´ undefined ë°œìƒ.

```js
const { q1, q2 } = req.query;
console.log(q1); // undefined, > q1, q2ë¼ëŠ” í‚¤ê°€ ì‹¤ì œ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì— ì—†ê¸° ë•Œë¬¸
```


### âœ… ë°°ì—´ ë¹„êµ¬ì¡°í™” í• ë‹¹

- ë°°ì—´ì˜ ìˆœì„œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°’ì„ êº¼ë‚¼ ìˆ˜ ìˆë‹¤.
```js
const array = [1, 2, 3, 4, 5];
const [ , num2, num3, , num5 ] = array;

console.log(num2); // 2
console.log(num3); // 3
console.log(num5); // 5
```

> ë¹ˆ ì¹¸(, ,)ì€ ë¬´ì‹œëœ ìë¦¬ë¡œ ìˆœì„œê°€ **ë§¤ìš° ì¤‘ìš”**í•˜ë‹¤.

---

## ğŸ“ ì£¼ì œ 4: ë„¤ì´ë° ì¼€ì´ìŠ¤ (Naming Case)

í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” ë³€ìˆ˜, í•¨ìˆ˜, í´ë˜ìŠ¤, íŒŒì¼ ì´ë¦„ ë“±ì„ ì •í•  ë•Œ **ì¼ê´€ì„± ìˆëŠ” ë„¤ì´ë° ê·œì¹™**ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.  
ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ì„¸ ê°€ì§€ ì¼€ì´ìŠ¤ë¥¼ ì •ë¦¬í•´ë³´ì.

---

### âœ… 1. kebab-case

- **ì‚¬ìš© ìœ„ì¹˜**: í´ë”ëª…, íŒŒì¼ëª…  
- **ì˜ˆì‹œ**:
  - í´ë”: `demo-api`
  - íŒŒì¼: `object-api-demo.js`

- **íŠ¹ì§•**:
  - ëª¨ë‘ **ì†Œë¬¸ì**
  - ì—¬ëŸ¬ ë‹¨ì–´ë¥¼ ì“¸ ë•Œ, **ë‹¨ì–´ ì‚¬ì´ë¥¼ `-`(í•˜ì´í”ˆ)** ìœ¼ë¡œ ì—°ê²°  
  - ì˜ˆ: `user-list`, `my-awesome-project`

- **cf.** `snake_case`ë„ ë¹„ìŠ·í•œ ì—­í•  (`_`ë¡œ êµ¬ë¶„), ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ **í†µì¼ì„± ìˆê²Œ ì‚¬ìš©**í•˜ë©´ OK

---

### âœ… 2. camelCase

- **ì‚¬ìš© ìœ„ì¹˜**: ë³€ìˆ˜, í•¨ìˆ˜ ì´ë¦„  
- **ì˜ˆì‹œ**:
  - ë³€ìˆ˜: `channelTitle`, `videoNum`
  - í•¨ìˆ˜: `getUserInfo`, `fetchData`

- **íŠ¹ì§•**:
  - ì²« ë‹¨ì–´ëŠ” **ì†Œë¬¸ì**
  - ë‘ ë²ˆì§¸ ë‹¨ì–´ë¶€í„° **ì²« ê¸€ìë¥¼ ëŒ€ë¬¸ì**ë¡œ ì”€
  - ì˜ˆ: `myVariableName`, `handleClick`

---

### âœ… 3. PascalCase

- **ì‚¬ìš© ìœ„ì¹˜**: í´ë˜ìŠ¤ ì´ë¦„  
- **ì˜ˆì‹œ**:
  - í´ë˜ìŠ¤: `UserProfile`, `ProductCard`

- **íŠ¹ì§•**:
  - ëª¨ë“  ë‹¨ì–´ì˜ **ì²« ê¸€ìë¥¼ ëŒ€ë¬¸ì**
  - ì˜ˆ: `MainComponent`, `AppRouter`

---

### ğŸ“ ë„¤ì´ë°ì€ **í†µì¼ê°ì´ ê°€ì¥ ì¤‘ìš”**í•˜ë‹¤!

| ëŒ€ìƒ              | ê¶Œì¥ ë„¤ì´ë° ì¼€ì´ìŠ¤ | ì˜ˆì‹œ                            |
|-------------------|---------------------|----------------------------------|
| ë³€ìˆ˜ / í•¨ìˆ˜        | `camelCase`         | `userName`, `getData()`         |
| í´ë˜ìŠ¤ / ì»´í¬ë„ŒíŠ¸  | `PascalCase`        | `UserCard`, `AppRouter`         |
| í´ë” / íŒŒì¼ëª…      | `kebab-case`        | `user-service.js`, `my-folder`  |
| ë°ì´í„° í•„ë“œ (JSON) | `snake_case` ë˜ëŠ” `camelCase` (í†µì¼ ì¤‘ìš”) | `user_id`, `created_at`, `userName` |

---

## ğŸ“ ì£¼ì œ 5:  ìë°”ìŠ¤í¬ë¦½íŠ¸ Map (String)

### âœ… Map

- Map ê°ì²´ëŠ” `key: value` í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©°, ë‹¤ì–‘í•œ í‚¤ íƒ€ì…(ìˆ«ì, ë¬¸ìì—´, ê°ì²´ ë“±)ì„ ì§€ì›í•˜ëŠ” **ìœ ì—°í•œ ìë£Œêµ¬ì¡°**ë‹¤. íŠ¹íˆ `map.get(key)`ìœ¼ë¡œ **í‚¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ë¹ ë¥´ê²Œ ì¡°íšŒ**í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.

- í‚¤ ê¸°ë°˜ ë°ì´í„° ì €ì¥ê³¼ ë¹ ë¥¸ ì¡°íšŒì— ìµœì í™”ë¼ìˆê³ ,  **â€œëˆ„êµ¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¬´ì—‡ì„ ì°¾ì„ê¹Œ?â€** ë¼ëŠ” ì§ˆë¬¸ì´ ë“¤ ë•Œ ì‚¬ìš©í•œë‹¤.

```js
let db = new Map();
db.set(1, "NoteBook");
db.set("1", "Book");
db.set(2, "Cup");
db.set(3, "Chair");

console.log(db); // Map(4) { 1 => 'NoteBook', '1' => 'Book', 2 => 'Cup', 3 => 'Chair' }
console.log(db.get(1));Â   // ğŸ‘‰ NoteBook
console.log(db.get("1"));Â // ğŸ‘‰ Book (ë¬¸ìì—´ í‚¤ì™€ ìˆ«ì í‚¤ëŠ” ë‹¤ë¥´ë‹¤!)
console.log(db.get(2));Â  Â // ğŸ‘‰ Cup
console.log(db.get(3));Â  Â // ğŸ‘‰ Chair
```

> ğŸ“Œ **Mapì€ ë¬¸ìì—´ "1"ê³¼ ìˆ«ì 1ì„ ì„œë¡œ ë‹¤ë¥¸ keyë¡œ ì¸ì‹**í•œë‹¤.

### âœ… List
- ì¸ë±ìŠ¤(index)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìˆœì„œëŒ€ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°
- ê°’ì˜ ìˆœì„œê°€ ì¤‘ìš”í•˜ê±°ë‚˜, ëª©ë¡ì„ ë‹¤ë£° ë•Œ ìœ ìš©
- ìˆœì°¨ì  ë°ì´í„°, ìˆœì„œê°€ ì¤‘ìš”í•  ë•Œ ì‚¬ìš©. **â€œëª‡ ë²ˆì§¸ì— ìˆëŠ” ë°ì´í„°ì•¼?â€** ë¼ê³  ë¬»ëŠ” ìƒí™©ì— ì í•©.

```js
let list = ["NoteBook", "Cup", "Chair"];
console.log(list[1]); // Cup
```


## ğŸ“Œ Map vs List ìš”ì•½

| í•­ëª©         | Map                                            | List (ë°°ì—´)                                   |
| ---------- | ---------------------------------------------- | ------------------------------------------- |
| **í˜•íƒœ**     | `key: value` í˜•íƒœë¡œ ë°ì´í„° ì €ì¥                        | ìˆœì„œ(index) ê¸°ë°˜ì˜ ë°ì´í„° ì €ì¥                        |
| **ì ‘ê·¼ ë°©ì‹**  | `map.get(key)`                                 | `array[index]`                              |
| **í‚¤ íƒ€ì…**   | ìˆ«ì, ë¬¸ìì—´, ê°ì²´ ë“± ë‹¤ì–‘í•œ íƒ€ì… ê°€ëŠ¥                        | ì¸ë±ìŠ¤ëŠ” í•­ìƒ 0ë¶€í„° ì‹œì‘í•˜ëŠ” ì •ìˆ˜ë§Œ ê°€ëŠ¥                     |
| **ìˆœì„œ ìœ ì§€**  | ì…ë ¥ ìˆœì„œ ìœ ì§€ (ES6 ì´í›„)                              | í•­ìƒ ìˆœì„œ ìœ ì§€                                    |
| **ëŒ€í‘œ ë©”ì„œë“œ** | `set`, `get`, `has`, `delete`, `clear`, `size` | `push`, `pop`, `shift`, `unshift`, `splice` |
| **ì‚¬ìš© ëª©ì **  | **íŠ¹ì • í‚¤ë¡œ ê°’ì„ ë¹ ë¥´ê²Œ ì°¾ì„ ë•Œ ìœ ìš©**                       | **ìˆœì°¨ì  ë°ì´í„° ì²˜ë¦¬ë‚˜ ëª©ë¡ ê´€ë¦¬ì— ìœ ìš©**                   |

### ğŸ’¡ Express ì„œë²„ì—ì„œ Mapì„ ì´ìš©í•œ ìƒí’ˆ ì¡°íšŒ API

```js
const express = require("express");
const app = express();

// 1. ì„œë²„ ì‹¤í–‰
app.listen(1234);

// Mapì„ ë¨¼ì € ìƒì„±í•œ ë’¤, ê°œë³„ì ìœ¼ë¡œ ê°’ì„ ì¶”ê°€
const db = new Map();
db.set(1, "NoteBook");
db.set("1", "Book");
db.set(2, "Cup");
db.set(3, "Chair");

// 3. ìƒí’ˆ ID ì¡°íšŒ ë¼ìš°íŠ¸ ì„¤ì • 
app.get("/:id", function (req, res) {
let { id } = req.params; // ë¹„êµ¬ì¡°í™”
const numericId = parseInt(id); // ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜

console.log("ìš”ì²­ëœ ID:", id, "â†’ ìˆ«ì ë³€í™˜:", numericId);

if (db.get(numericId) == undefined) {
	res.json({
		message: "ì—†ëŠ” ìƒí’ˆì…ë‹ˆë‹¤",
	});
	} else {
		res.send({
		id: numericId,
		productName: db.get(numericId),
		});
	}
});

console.log(db); // map ê°’
console.log(db.get(1)); // NoteBook
console.log(db.get("1"));
console.log(db.get(2)); // Cup
console.log(db.get(3)); // Chair
```


![map](https://seonohblog.netlify.app/assets/map.png)


---

## ğŸ’­ íšŒê³ 

â€¢ **ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ì **
  - `req.params`ì™€ `req.query`ì˜ ì°¨ì´ë¥¼ ì‹¤ì œ ë¼ìš°íŠ¸ì™€ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ ì˜ˆì œë¥¼ í†µí•´ ëª…í™•íˆ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.
  - Express ë¼ìš°íŒ…ì—ì„œ URL ê²½ë¡œ ë³€ìˆ˜(`:id`)ë¥¼ í†µí•´ ë™ì ì¸ ê°’ ì „ë‹¬ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ ì¸ìƒ ê¹Šì—ˆë‹¤.
  - JavaScriptì˜ ê°ì²´/ë°°ì—´ ë¹„êµ¬ì¡°í™” ë¬¸ë²•ì„ í™œìš©í•˜ë©´ ì½”ë“œê°€ í›¨ì”¬ ê°„ê²°í•˜ê³  ê°€ë…ì„±ì´ ì¢‹ì•„ì§„ë‹¤ëŠ” ê²ƒì„ ì²´ê°í–ˆë‹¤.
  - Mapì€ ê°ì²´ë³´ë‹¤ ë” ë‹¤ì–‘í•œ í‚¤ íƒ€ì…ì„ ì§€ì›í•˜ê³ , ìˆœì„œ ë³´ì¥ê³¼ ë¹ ë¥¸ ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì—ì„œ ìœ ìš©í•¨ì„ ëŠê¼ˆë‹¤.

â€¢ **ì–´ë µê²Œ ëŠê»´ì¡Œë˜ ë¶€ë¶„**
  - ë¬¸ìì—´ `"1"`ê³¼ ìˆ«ì `1`ì´ `Map`ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ keyë¡œ ì¸ì‹ëœë‹¤ëŠ” ì ì´ í—·ê°ˆë ¸ë‹¤.
  - `parseInt(req.params.id)`ë¡œ ë³€í™˜í•˜ì§€ ì•Šìœ¼ë©´ ìˆ«ì keyë¡œ ëœ ë°ì´í„°ê°€ ì¡°íšŒë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì‹¤ìŠµ ì¤‘ì— ì•Œê²Œ ëë‹¤.
  - ë„¤ì´ë° ê·œì¹™ì„ ì–¸ì œ ì–´ë–¤ ì¼€ì´ìŠ¤ì— ì¨ì•¼ í•˜ëŠ”ì§€ ì•„ì§ ì•½ê°„ í—·ë ¸ì§€ë§Œ, í‘œë¡œ ì •ë¦¬í•˜ë©´ì„œ ì–´ëŠ ì •ë„ ëª…í™•í•´ì¡Œë‹¤.

â€¢ **ë‹¤ìŒì— í•™ìŠµí•  ì£¼ì œ**
  - `Map`ê³¼ `Object`ì˜ ì°¨ì´ì ê³¼ ì‹¤ë¬´ì—ì„œ ì–´ë–¤ ìƒí™©ì— ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ”ì§€ ë¹„êµ ì •ë¦¬
  - Express + ê°ì²´
  - ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜

---

## ğŸ”— ì°¸ê³  ìë£Œ

- [Express ê³µì‹ ë¬¸ì„œ](https://expressjs.com/ko/guide/routing.html)
- [MDN Web Docs - JavaScript Map](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Map)
- [MDN Web Docs - Destructuring assignment](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)
- [JavaScript Naming Convention Guide](https://www.robinwieruch.de/javascript-naming-conventions/)