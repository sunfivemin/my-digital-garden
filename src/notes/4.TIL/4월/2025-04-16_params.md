---
tags:
  - TIL
  - express
  - RESTAPI
created: 2025-04-16
---

# 📘 2025-04-16 TIL

## 📌 오늘 배운 핵심 요약

- Express 라우트에서 URL 매개변수 받는 방법 (:id)
- req.params의 구조와 사용법
- parseInt()를 활용한 타입 변환
- 동적 라우팅과 JSON 응답 처리

## 🧠 상세 학습 내용

## 📍 주제 1:  Express 라우트와 URL 파라미터

#### ✅ req.params란?

- **Express 라우트 경로에서 :을 사용하면 해당 구간은 변수처럼 동작한다.**
- 그 변수 값은 요청(req)의 params 속성으로 전달된다.
- req.params는 **객체 형태**로, URL 경로에 정의된 동적 세그먼트(값)를 담고 있다.

```js
app.get("/products/:id", (req, res) => {
  console.log(req.params);       // 👉 { id: '123' }
  console.log(req.params.id);    // 👉 '123'
});
```

> 예를 들어 /products/123이라는 URL로 요청이 들어오면 id는 '123'이라는 값으로 전달된다.

### 💡 parseInt()란?
- URL로 전달받은 값은 기본적으로 **문자열(string)**이다.
- 숫자 연산을 하기 위해서는 **정수로 변환**이 필요하다.
- 이때 사용하는 것이 parseInt() 또는 Number()이다.

```js
let number = parseInt(req.params.id) - 10;
// 요청: GET /products/25
req.params.id === '25'
parseInt(req.params.id) === 25
number = 25 - 10  // 👉 결과: 15
```


---

#### **📌 REST API란?**

- **REST (Representational State Transfer)** 는 자원을 URL로 표현하고, HTTP 메서드(GET, POST, PUT, DELETE 등)를 활용해 해당 자원을 다루는 방식이다.
- 위 예시에서는 /products/:id에서 :id는 **동적 경로 파라미터**로, 클라이언트가 URL을 통해 값을 전달할 수 있다,
- URL 경로만 보고도 어떤 데이터를 요청하는지 직관적으로 알 수 있게 구성하는 것이 RESTful 설계 방식의 핵심이다.
```js
app.get("/users/:userId/orders/:orderId", (req, res) => {
  console.log(req.params); 
  // { userId: '15', orderId: '872' }
  res.json({
    message: `User ${req.params.userId}의 주문 ${req.params.orderId}입니다.`,
  });
});
```


---

## 📍 주제 2: JSON & 객체란?

API에서 데이터를 주고받을 때는 단순한 문자열보다 더 **구조화된 데이터 형식**이 필요하다.  
그 대표적인 형식이 바로 **JSON (JavaScript Object Notation)** 이다.

### 📦 객체(Object)란?
데이터를 하나씩 보내는 대신, **데이터를 묶어서 보내는 덩어리 구조**

```js
// 책 한 권의 정보를 하나의 객체로 표현
const nodejsBook = {
	title: "Node.js 책",
	price: 20000,
	description: "이 책 좋음 왜? 김승아 지음",
};

function print(book) {
	console.log(book.title);
	console.log(book.price);
	console.log(book.description);
}

print(nodejsBook);
```

- 객체는 중괄호 {}로 감싸고, key: value 쌍으로 구성된다.
- 우리가 말할 수 있는 대부분의 정보(사람, 주소, 상품)는 객체로 표현할 수 있다.

---

### 📌   res.send vs res.json 차이점

Express에서 클라이언트에게 응답을 보낼 때 자주 사용하는 두 가지 메서드가 있다.
- `res.send()`
- `res.json()`
#### ✅ 1. `res.send()`

`res.send()`는 **문자열, 숫자, HTML, 객체 등 다양한 타입의 데이터를 자동으로 응답해주는 범용 메서드**다.

```js

app.get("/", (req, res) => {
  res.send("Hello World"); // 문자열 전송
});

app.get("/number", (req, res) => {
  res.send(123); // 숫자도 가능
});

app.get("/object", (req, res) => {
  res.send({ msg: "hi" }); // 객체도 가능 (자동 JSON 변환)
});

```
- 내부적으로는 Content-Type을 자동 추론해서 지정함
- 객체를 보낼 때도 JSON으로 변환해주긴 하지만, **의도가 불명확해질 수 있다**


---

## 💭 회고

• **새롭게 알게 된 점**
- 

• **어렵게 느껴졌던 부분**
- 

• **다음에 학습할 주제**
- 


## 🔗 참고 자료

