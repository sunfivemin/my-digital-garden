---
tags:
  - TIL
created: 2025-05-19
---

# ğŸ“˜ 2025-05-19 TIL

## ğŸ“Œ ì˜¤ëŠ˜ ë°°ìš´ í•µì‹¬ ìš”ì•½
- ë„ì„œ ìƒì„¸ í™”ë©´ì—ì„œ ì‚¬ìš©ì(user)ê°€ íŠ¹ì • ë„ì„œ(book)ì— ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¼ ìˆ˜ ìˆëŠ” APIë¥¼ ë§Œë“¬.


## ğŸ§  ìƒì„¸ í•™ìŠµ ë‚´ìš©

## ğŸ“ ì£¼ì œ 1: ì¢‹ì•„ìš” ê¸°ëŠ¥ êµ¬í˜„ (Like API)

### âœ… ë¼ìš°í„° ì„¤ì •
```sql
router.post('/:id', addLike);
router.delete('/:id', removeLike);
```


### âœ… LikeController.js
```js
const addLike = (req, res) => {
  const { id } = req.params; // book_id
  const { user_id } = req.body;

  const sql = 'INSERT INTO likes (user_id, liked_book_id) VALUES (?, ?)';
  conn.query(sql, [user_id, id], (err, results) => {
    if (err) return res.status(StatusCodes.BAD_REQUEST).end();
    return res.status(StatusCodes.OK).json(results);
  });
};

const removeLike = (req, res) => {
  const { id } = req.params;
  const { user_id } = req.body;

  const sql = 'DELETE FROM likes WHERE user_id = ? AND liked_book_id = ?';
  conn.query(sql, [user_id, id], (err, results) => {
    if (err) return res.status(StatusCodes.BAD_REQUEST).end();
    return res.status(StatusCodes.OK).json(results);
  });
};
```

### âœ… LikeController.jsAPI ì„¤ê³„ ë¬¸ì„œ
â€¢ Method: POST / DELETE
â€¢ URI: /likes/{bookId}
â€¢ Request Body:
```json
{
  "user_id": 1
}
```



---

## ğŸ“ ì£¼ì œ 2: count(), AS, ì„œë¸Œì¿¼ë¦¬





![DATEADD](https://seonohblog.netlify.app/assets/DATEADD.png)


---

## ğŸ“ Â ì£¼ì œ 3: 

---

## ğŸ“ ì£¼ì œ 4: 





---

## **ğŸ’­ íšŒê³ **

### â€¢ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ì 
- 

### â€¢ ì–´ë µê²Œ ëŠê»´ì¡Œë˜ ë¶€ë¶„


### â€¢ ë‹¤ìŒì— í•™ìŠµí•  ì£¼ì œ
â€¢ 


## ğŸ”— ì°¸ê³  ìë£Œ
