---
tags:
  - TIL
created: 2025-05-19
---

# 📘 2025-05-19 TIL

## 📌 오늘 배운 핵심 요약
- 도서 상세 화면에서 사용자(user)가 특정 도서(book)에 좋아요를 누를 수 있는 API를 만듬.


## 🧠 상세 학습 내용

## 📍 주제 1: 좋아요 기능 구현 (Like API)

### ✅ 라우터 설정
```sql
router.post('/:id', addLike);
router.delete('/:id', removeLike);
```


### ✅ LikeController.js
```js
const addLike = (req, res) => {
  const { id } = req.params; // book_id
  const { user_id } = req.body;

  const sql = 'INSERT INTO likes (user_id, liked_book_id) VALUES (?, ?)';
  conn.query(sql, [user_id, id], (err, results) => {
    if (err) return res.status(StatusCodes.BAD_REQUEST).end();
    return res.status(StatusCodes.OK).json(results);
  });
};

const removeLike = (req, res) => {
  const { id } = req.params;
  const { user_id } = req.body;

  const sql = 'DELETE FROM likes WHERE user_id = ? AND liked_book_id = ?';
  conn.query(sql, [user_id, id], (err, results) => {
    if (err) return res.status(StatusCodes.BAD_REQUEST).end();
    return res.status(StatusCodes.OK).json(results);
  });
};
```

### ✅ LikeController.jsAPI 설계 문서
• Method: POST / DELETE
• URI: /likes/{bookId}
• Request Body:
```json
{
  "user_id": 1
}
```



---

## 📍 주제 2: count(), AS, 서브쿼리





![DATEADD](https://seonohblog.netlify.app/assets/DATEADD.png)


---

## 📍  주제 3: 

---

## 📍 주제 4: 





---

## **💭 회고**

### • 새롭게 알게 된 점
- 

### • 어렵게 느껴졌던 부분


### • 다음에 학습할 주제
• 


## 🔗 참고 자료
